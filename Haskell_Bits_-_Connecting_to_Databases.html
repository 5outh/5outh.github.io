<!DOCTYPE html></!DOCTYPE html><html lang="en"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type" /><meta content="width=device-width, initial-scale=1" name="viewport" /><title>Haskell Bits 3 - Connecting to Databases - Ben Kovach</title><link href="https://raw.githubusercontent.com/srid/neuron/master/assets/neuron.svg" rel="icon" /><link href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.7/dist/semantic.min.css" rel="stylesheet" /><style type="text/css">body{background-color:#eeeeee !important;font-family:"Ubuntu", serif !important}body .ui.container{font-family:"Ubuntu", serif !important}body h1, h2, h3, h4, h5, h6, .ui.header, .headerFont{font-family:"Kanit", sans-serif !important}body code, pre, tt, .monoFont{font-family:"Roboto Mono","SFMono-Regular","Menlo","Monaco","Consolas","Liberation Mono","Courier New", monospace !important}body div.z-index p.info{color:#808080}body div.z-index ul{list-style-type:square;padding-left:1.5em}body div.z-index .uplinks{margin-left:0.29999em}body div#neuron-theme-default-teal .zettel-content h1{background-color:rgba(0,181,173,0.1)}body div#neuron-theme-default-teal span.zettel-link-container span.zettel-link a{color:#00b5ad}body div#neuron-theme-default-teal span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#00b5ad}body div#neuron-theme-default-teal .deemphasized:hover div.item a:hover{color:#00b5ad !important}body div#neuron-theme-default-teal div#footnotes{border-top-color:#00b5ad}body div#neuron-theme-default-brown .zettel-content h1{background-color:rgba(165,103,63,0.1)}body div#neuron-theme-default-brown span.zettel-link-container span.zettel-link a{color:#a5673f}body div#neuron-theme-default-brown span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#a5673f}body div#neuron-theme-default-brown .deemphasized:hover div.item a:hover{color:#a5673f !important}body div#neuron-theme-default-brown div#footnotes{border-top-color:#a5673f}body div#neuron-theme-default-red .zettel-content h1{background-color:rgba(219,40,40,0.1)}body div#neuron-theme-default-red span.zettel-link-container span.zettel-link a{color:#db2828}body div#neuron-theme-default-red span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#db2828}body div#neuron-theme-default-red .deemphasized:hover div.item a:hover{color:#db2828 !important}body div#neuron-theme-default-red div#footnotes{border-top-color:#db2828}body div#neuron-theme-default-orange .zettel-content h1{background-color:rgba(242,113,28,0.1)}body div#neuron-theme-default-orange span.zettel-link-container span.zettel-link a{color:#f2711c}body div#neuron-theme-default-orange span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#f2711c}body div#neuron-theme-default-orange .deemphasized:hover div.item a:hover{color:#f2711c !important}body div#neuron-theme-default-orange div#footnotes{border-top-color:#f2711c}body div#neuron-theme-default-yellow .zettel-content h1{background-color:rgba(251,189,8,0.1)}body div#neuron-theme-default-yellow span.zettel-link-container span.zettel-link a{color:#fbbd08}body div#neuron-theme-default-yellow span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#fbbd08}body div#neuron-theme-default-yellow .deemphasized:hover div.item a:hover{color:#fbbd08 !important}body div#neuron-theme-default-yellow div#footnotes{border-top-color:#fbbd08}body div#neuron-theme-default-olive .zettel-content h1{background-color:rgba(181,204,24,0.1)}body div#neuron-theme-default-olive span.zettel-link-container span.zettel-link a{color:#b5cc18}body div#neuron-theme-default-olive span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#b5cc18}body div#neuron-theme-default-olive .deemphasized:hover div.item a:hover{color:#b5cc18 !important}body div#neuron-theme-default-olive div#footnotes{border-top-color:#b5cc18}body div#neuron-theme-default-green .zettel-content h1{background-color:rgba(33,186,69,0.1)}body div#neuron-theme-default-green span.zettel-link-container span.zettel-link a{color:#21ba45}body div#neuron-theme-default-green span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#21ba45}body div#neuron-theme-default-green .deemphasized:hover div.item a:hover{color:#21ba45 !important}body div#neuron-theme-default-green div#footnotes{border-top-color:#21ba45}body div#neuron-theme-default-blue .zettel-content h1{background-color:rgba(33,133,208,0.1)}body div#neuron-theme-default-blue span.zettel-link-container span.zettel-link a{color:#2185d0}body div#neuron-theme-default-blue span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#2185d0}body div#neuron-theme-default-blue .deemphasized:hover div.item a:hover{color:#2185d0 !important}body div#neuron-theme-default-blue div#footnotes{border-top-color:#2185d0}body div#neuron-theme-default-violet .zettel-content h1{background-color:rgba(100,53,201,0.1)}body div#neuron-theme-default-violet span.zettel-link-container span.zettel-link a{color:#6435c9}body div#neuron-theme-default-violet span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#6435c9}body div#neuron-theme-default-violet .deemphasized:hover div.item a:hover{color:#6435c9 !important}body div#neuron-theme-default-violet div#footnotes{border-top-color:#6435c9}body div#neuron-theme-default-purple .zettel-content h1{background-color:rgba(163,51,200,0.1)}body div#neuron-theme-default-purple span.zettel-link-container span.zettel-link a{color:#a333c8}body div#neuron-theme-default-purple span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#a333c8}body div#neuron-theme-default-purple .deemphasized:hover div.item a:hover{color:#a333c8 !important}body div#neuron-theme-default-purple div#footnotes{border-top-color:#a333c8}body div#neuron-theme-default-pink .zettel-content h1{background-color:rgba(224,57,151,0.1)}body div#neuron-theme-default-pink span.zettel-link-container span.zettel-link a{color:#e03997}body div#neuron-theme-default-pink span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#e03997}body div#neuron-theme-default-pink .deemphasized:hover div.item a:hover{color:#e03997 !important}body div#neuron-theme-default-pink div#footnotes{border-top-color:#e03997}body div#neuron-theme-default-grey .zettel-content h1{background-color:rgba(118,118,118,0.1)}body div#neuron-theme-default-grey span.zettel-link-container span.zettel-link a{color:#767676}body div#neuron-theme-default-grey span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#767676}body div#neuron-theme-default-grey .deemphasized:hover div.item a:hover{color:#767676 !important}body div#neuron-theme-default-grey div#footnotes{border-top-color:#767676}body div#neuron-theme-default-black .zettel-content h1{background-color:rgba(27,28,29,0.1)}body div#neuron-theme-default-black span.zettel-link-container span.zettel-link a{color:#1b1c1d}body div#neuron-theme-default-black span.zettel-link-container span.zettel-link a:hover{color:#ffffff;background-color:#1b1c1d}body div#neuron-theme-default-black .deemphasized:hover div.item a:hover{color:#1b1c1d !important}body div#neuron-theme-default-black div#footnotes{border-top-color:#1b1c1d}body p{line-height:150%}body img{max-width:100%}body .deemphasized{font-size:0.84999em}body .deemphasized:hover{opacity:1}body .deemphasized:not(:hover){opacity:0.69999}body .deemphasized:not(:hover) a{color:#808080 !important}body div.zettel-view ul{padding-left:1.5em;list-style-type:square}body div.zettel-view .pandoc .highlight{background-color:#ffff00}body div.zettel-view .pandoc .ui.disabled.fitted.checkbox{margin-right:0.29999em;vertical-align:middle}body div.zettel-view .zettel-content .metadata{margin-top:1em}body div.zettel-view .zettel-content .metadata div.date{text-align:center;color:#808080}body div.zettel-view .zettel-content h1{padding-top:0.2em;padding-bottom:0.2em;text-align:center}body div.zettel-view .zettel-content h2{border-bottom:solid 1px #4682b4;margin-bottom:0.5em}body div.zettel-view .zettel-content h3{margin:0px 0px 0.4em 0px}body div.zettel-view .zettel-content h4{opacity:0.8}body div.zettel-view .zettel-content div#footnotes{margin-top:4em;border-top-style:groove;border-top-width:2px;font-size:0.9em}body div.zettel-view .zettel-content aside.footnote-inline{width:30%;padding-left:15px;margin-left:15px;float:right;background-color:#d3d3d3}body div.zettel-view .zettel-content .overflows{overflow:auto}body div.zettel-view .zettel-content code{margin:auto auto auto auto;font-size:100%}body div.zettel-view .zettel-content p code, li code, ol code{padding:0.2em 0.2em 0.2em 0.2em;background-color:#f8f8f8}body div.zettel-view .zettel-content pre{padding:0.5em 0.5em 0.5em 0.5em;overflow:auto;max-width:100%}body div.zettel-view .zettel-content div.pandoc-code{margin-left:auto;margin-right:auto}body div.zettel-view .zettel-content div.pandoc-code pre{background-color:#f8f8f8}body div.zettel-view .zettel-content dl dt{font-weight:bold}body div.zettel-view .zettel-content blockquote{background-color:#f9f9f9;border-left:solid 10px #cccccc;margin:1.5em 0px 1.5em 0px;padding:0.5em 10px 0.5em 10px}body div.zettel-view .zettel-content.raw{background-color:#dddddd}body .tree.flipped{-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-ms-transform:rotate(180deg);-o-transform:rotate(180deg);transform:rotate(180deg)}body .tree{overflow:auto}body .tree ul.root{padding-top:0px;margin-top:0px}body .tree ul{position:relative;padding:1em 0px 0px 0px;white-space:nowrap;margin:0px auto 0px auto;text-align:center}body .tree ul::after{content:"";display:table;clear:both}body .tree ul:last-child{padding-bottom:0.1em}body .tree li{display:inline-block;vertical-align:top;text-align:center;list-style-type:none;position:relative;padding:1em 0.5em 0em 0.5em}body .tree li::before{content:"";position:absolute;top:0px;right:50%;border-top:solid 2px #cccccc;width:50%;height:1.19999em}body .tree li::after{content:"";position:absolute;top:0px;right:50%;border-top:solid 2px #cccccc;width:50%;height:1.19999em}body .tree li::after{right:auto;left:50%;border-left:solid 2px #cccccc}body .tree li:only-child{padding-top:0em}body .tree li:only-child::after{display:none}body .tree li:only-child::before{display:none}body .tree li:first-child::before{border-style:none;border-width:0px}body .tree li:first-child::after{border-radius:5px 0px 0px 0px}body .tree li:last-child::after{border-style:none;border-width:0px}body .tree li:last-child::before{border-right:solid 2px #cccccc;border-radius:0px 5px 0px 0px}body .tree ul ul::before{content:"";position:absolute;top:0px;left:50%;border-left:solid 2px #cccccc;width:0px;height:1.19999em}body .tree li div.forest-link{border:solid 2px #cccccc;padding:0.2em 0.29999em 0.2em 0.29999em;text-decoration:none;display:inline-block;border-radius:5px 5px 5px 5px;color:#333333;position:relative;top:2px}body .tree.flipped li div.forest-link{-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-ms-transform:rotate(180deg);-o-transform:rotate(180deg);transform:rotate(180deg)}body .ui.label.zettel-tag{color:#000000}body .ui.label.zettel-tag a{color:#000000}body nav.backlinks-container{background-color:#eeeeee !important}body ul.backlinks > li{padding-bottom:0.4em;list-style-type:disc}body ul.context-list > li{list-style-type:lower-roman}body span.zettel-link-container span.zettel-link a{font-weight:bold;text-decoration:none}body span.zettel-link-container span.extra{color:auto}body span.zettel-link-container.errors{border:solid 1px #ff0000}body [data-tooltip]:after{font-size:0.69999em}body div.tag-tree div.node{font-weight:bold}body div.tag-tree div.node a.inactive{color:#555555}body .footer-version img{-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%);filter:grayscale(100%)}body .footer-version img:hover{-webkit-filter:grayscale(0%);-moz-filter:grayscale(0%);-ms-filter:grayscale(0%);-o-filter:grayscale(0%);filter:grayscale(0%)}body .footer-version, .footer-version a, .footer-version a:visited{color:#808080}body .footer-version a{font-weight:bold}body .footer-version{margin-top:1em !important;font-size:0.69999em}body nav.top-menu{padding-top:1em;padding-bottom:1em;justify-content:center;text-align:center}body nav.top-menu > *{padding-left:0px;padding-right:0px}@media only screen and (max-width: 768px){body div#zettel-container{margin-left:0.4em !important;margin-right:0.4em !important}}</style><link href="https://fonts.googleapis.com/css?family=Kanit|Ubuntu|Roboto+Mono&amp;display=swap" rel="stylesheet" /><script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><meta content="Ben Kovach" name="author" /><meta content="Today I want to talk about getting Haskell programs to talk to
databases.
" name="description" /><link href="https://kovach.me/Haskell_Bits_-_Connecting_to_Databases.html" rel="canonical" /><meta content="Haskell Bits 3 - Connecting to Databases" property="og:title" /><meta content="Ben Kovach" property="og:site_name" /><meta content="article" property="og:type" /><script type="application/ld+json">[]</script><style type="text/css">pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style></head><body><div class="ui fluid container" id="neuron-theme-default-blue"><nav class="top-menu"><div class="ui inverted compact neuron icon menu blue"><a class="left item" href="." title="Home"><i class="home icon"></i></a><a class="left item" href="search.html" title="Search Zettels"><i class="search icon"></i></a><a class="center item" href="https://github.com/5outh/zettelkasten/edit/master/Haskell Bits - Connecting to Databases.md" title="Edit this Zettel"><i class="edit icon"></i></a><a class="right item" href="z-index.html" title="All Zettels (z-index)"><i class="tree icon"></i></a></div></nav><div class="ui text container" id="zettel-container" style="position: relative"><div id="zettel-container-anchor" style="position: absolute; top: -24px; left: 0"></div><div class="zettel-view"><article class="ui raised attached segment zettel-content"><h1>Haskell Bits 3 - Connecting to Databases</h1><div class="pandoc"><p>Today I want to talk about getting Haskell programs to talk to databases.</p><p>We’ll set out to build something pretty simple: A single table, filled with records of board games. I want to keep the focus of the post on connecting to various database types, so our board game record will be extremely simple. Here’s an example of the table we’ll be working with:</p>  <table class="checkered full-width">
   <thead class="left">
   <tr>
   <th>id</th>
   <th>name</th>
   <th>designer</th>
   <th>year</th>
   </tr>
   <thead>
   <tbody>
   <tr>
   <td>1</td>
   <td>Lords of Waterdeep</td>
   <td>Peter Lee</td>
   <td>2012</td>
   </tr>
   <tr>
   <td>3</td>
   <td>Agricola</td>
   <td>Uwe Rosenberg</td>
   <td>2007</td>
   </tr>
   <tr>
   <td>4</td>
   <td>Race for the Galaxy</td>
   <td>Thomas Lehmann</td>
   <td>2007</td>
   </tr>
   </tbody>
   </table>
<p>Important note: I originally had “Chess” in here as a board game with no known year, but realized after writing the post and all of the associated code that I don’t know who designed it, either! The <code>designer</code> should technically be nullable as well, but it is not in the schema I’ve defined. Keep that in mind as you read through the post!</p><p>I’m going to walk through inserting a single element into a table of the aforementioned schema, but it will support all of the records above. Try inserting them as an exercise!</p><p>We’re going to talk about connecting to three different databases:</p><ul><li>sqlite</li><li>postgresql</li><li>mysql</li></ul><p>…with two different “flavors” of libary. First, the lower-level “-simple” strain of database libraries, and later, the higher-level <code>persistent</code> library.</p><h3 id="connecting-to-sqlite-with-sqlite-simple">Connecting to <code>sqlite</code> with <code>sqlite-simple</code></h3><p>We need a database:</p><div class="pandoc-code highlighted"><pre><code class="sql"><span class="">$ sqlite3 board_games.db </span><span class="ot">&quot;CREATE TABLE IF NOT EXISTS board_games (id INTEGER PRIMARY KEY,</span>
<span class="">name TEXT </span><span class="kw">NOT</span><span class=""> </span><span class="kw">NULL</span><span class="">, designer TEXT </span><span class="kw">NOT</span><span class=""> </span><span class="kw">NULL</span><span class="">, </span><span class="dt">year</span><span class=""> </span><span class="dt">INTEGER</span><span class="">);</span><span class="ot">&quot;</span>
</code></pre></div><div class="pandoc-code highlighted"><pre><code class="haskell"><span class="ot">{-# LANGUAGE RecordWildCards #-}</span>
<span class="ot">{-# LANGUAGE OverloadedStrings #-}</span>

<span class="kw">import</span><span class=""> </span><span class="dt">Control.Monad.State</span>
<span class="kw">import</span><span class=""> </span><span class="dt">Control.Monad.Reader</span>
<span class="kw">import</span><span class=""> </span><span class="dt">Data.Text</span>
<span class="kw">import</span><span class=""> </span><span class="dt">Database.SQLite.Simple</span>
<span class="kw">import</span><span class=""> </span><span class="dt">Data.Maybe</span><span class=""> (fromJust)</span>

<span class="kw">data</span><span class=""> </span><span class="dt">BoardGame</span><span class=""> </span><span class="ot">=</span><span class=""> </span><span class="dt">BoardGame</span>
<span class="">    {</span><span class="ot"> name ::</span><span class=""> </span><span class="dt">Text</span>
<span class="">    ,</span><span class="ot"> designer ::</span><span class=""> </span><span class="dt">Text</span>
<span class="">    ,</span><span class="ot"> year ::</span><span class=""> </span><span class="dt">Maybe</span><span class=""> </span><span class="dt">Int</span>
<span class="">    } </span><span class="kw">deriving</span><span class=""> (</span><span class="dt">Show</span><span class="">, </span><span class="dt">Eq</span><span class="">)</span>

<span class="kw">instance</span><span class=""> </span><span class="dt">FromRow</span><span class=""> </span><span class="dt">BoardGame</span><span class=""> </span><span class="kw">where</span>
<span class="">    fromRow </span><span class="ot">=</span><span class=""> </span><span class="dt">BoardGame</span><span class=""> </span><span class="op">&lt;$&gt;</span><span class=""> field </span><span class="op">&lt;*&gt;</span><span class=""> field </span><span class="op">&lt;*&gt;</span><span class=""> field</span>

<span class="kw">instance</span><span class=""> </span><span class="dt">ToRow</span><span class=""> </span><span class="dt">BoardGame</span><span class=""> </span><span class="kw">where</span>
<span class="">    toRow </span><span class="dt">BoardGame</span><span class="">{</span><span class="op">..</span><span class="">} </span><span class="ot">=</span><span class=""> toRow (name, designer, year)</span>

<span class="ot">createGame ::</span><span class=""> </span><span class="dt">BoardGame</span><span class=""> </span><span class="ot">-&gt;</span><span class=""> </span><span class="dt">ReaderT</span><span class=""> </span><span class="dt">Connection</span><span class=""> </span><span class="dt">IO</span><span class=""> (</span><span class="dt">Int</span><span class="">, </span><span class="dt">BoardGame</span><span class="">)</span>
<span class="">createGame game </span><span class="ot">=</span><span class=""> ask </span><span class="op">&gt;&gt;=</span><span class=""> \conn </span><span class="ot">-&gt;</span><span class=""> </span><span class="kw">do</span>
<span class="">    liftIO </span><span class="op">$</span><span class=""> execute</span>
<span class="">        conn </span>
<span class="">        </span><span class="st">&quot;INSERT INTO board_games (name, designer, year) VALUES (?,?,?)&quot;</span>
<span class="">        game</span>
<span class="">    boardGameId </span><span class="ot">&lt;-</span><span class=""> </span><span class="fu">fromIntegral</span><span class=""> </span><span class="op">&lt;$&gt;</span><span class=""> liftIO (lastInsertRowId conn)</span>
<span class="">    game&#39; </span><span class="ot">&lt;-</span><span class=""> fromJust </span><span class="op">&lt;$&gt;</span><span class=""> readGame boardGameId</span>
<span class="">    </span><span class="fu">pure</span><span class=""> (boardGameId, game&#39;)</span>

<span class="ot">readGame ::</span><span class=""> </span><span class="dt">Int</span><span class=""> </span><span class="ot">-&gt;</span><span class=""> </span><span class="dt">ReaderT</span><span class=""> </span><span class="dt">Connection</span><span class=""> </span><span class="dt">IO</span><span class=""> (</span><span class="dt">Maybe</span><span class=""> </span><span class="dt">BoardGame</span><span class="">)</span>
<span class="">readGame boardGameId </span><span class="ot">=</span><span class=""> ask </span><span class="op">&gt;&gt;=</span><span class=""> \conn </span><span class="ot">-&gt;</span><span class=""> </span><span class="kw">do</span>
<span class="">    games </span><span class="ot">&lt;-</span><span class=""> liftIO </span><span class="op">$</span><span class=""> query </span>
<span class="">        conn</span>
<span class="">        </span><span class="st">&quot;SELECT name, designer, year FROM board_games WHERE id = ?&quot;</span>
<span class="">        (</span><span class="dt">Only</span><span class=""> boardGameId)</span>
<span class="">    </span><span class="fu">pure</span><span class=""> </span><span class="op">$</span><span class=""> </span><span class="kw">case</span><span class=""> games </span><span class="kw">of</span>
<span class="">         [g] </span><span class="ot">-&gt;</span><span class=""> </span><span class="dt">Just</span><span class=""> g</span>
<span class="">         _ </span><span class="ot">-&gt;</span><span class=""> </span><span class="dt">Nothing</span>

<span class="ot">main ::</span><span class=""> </span><span class="dt">IO</span><span class=""> ()</span>
<span class="">main </span><span class="ot">=</span><span class=""> </span><span class="kw">do</span>
<span class="">    conn </span><span class="ot">&lt;-</span><span class=""> open </span><span class="st">&quot;board_games.db&quot;</span>
<span class="">    </span><span class="fu">flip</span><span class=""> runReaderT conn </span><span class="op">$</span><span class=""> </span><span class="kw">do</span>
<span class="">        result </span><span class="ot">&lt;-</span><span class=""> createGame </span><span class="op">$</span><span class=""> </span><span class="dt">BoardGame</span>
<span class="">            </span><span class="st">&quot;Cosmic Encounter&quot;</span>
<span class="">            </span><span class="st">&quot;Bill Eberle&quot;</span>
<span class="">            (</span><span class="dt">Just</span><span class=""> </span><span class="dv">2008</span><span class="">)</span>
<span class="">        liftIO </span><span class="op">$</span><span class=""> </span><span class="fu">print</span><span class=""> result</span>
</code></pre></div><p>(packages needed: <code>sqlite-simple</code>, <code>mtl</code>, <code>text</code>)</p><p>This is the core logic we’ll be implementing with each library. We’ll just be modifying this piecemeal for the rest of the implementations. It’s the longest code sample in the post, so don’t run off!</p><p>Let’s walk through this a little, just once. Here’s what we’re doing:</p><ul><li>Creating a connection (called <code>conn</code>)</li><li>Storing it in a read-only environment with <code>ReaderT</code> computations</li><li>Creating a new record for Cosmic Encounter</li><li>Then printing it, along with its id in the database.</li></ul><p>In order to do this, we have to write a little bit of boilerplate. First is the model definition for <code>BoardGame</code>, and instances of <code>ToRow</code> and <code>FromRow</code>, which allow us to serialize and deserialize from the <code>sqlite</code> representation of a <code>BoardGame</code>. We also have to write the actual SQL commands; not a whole lot is abstracted away from us.</p><p>(I lied a little - the model definition is not strictly necessary but it’s typically good to pull data into your program’s domain, so I suggest doing this step.)</p><h3 id="connecting-to-postgresql-with-postgresql-simple">Connecting to <code>postgresql</code> with <code>postgresql-simple</code></h3><p>We’ll need a database, again (note the syntax is slightly different):</p><div class="pandoc-code highlighted"><pre><code class="sql"><span class="kw">CREATE</span><span class=""> </span><span class="kw">TABLE</span><span class=""> </span><span class="cf">IF</span><span class=""> </span><span class="kw">NOT</span><span class=""> </span><span class="kw">EXISTS</span><span class=""> board_games (</span>
<span class="">  </span><span class="kw">id</span><span class=""> SERIAL </span><span class="kw">PRIMARY</span><span class=""> </span><span class="kw">KEY</span><span class="">,</span>
<span class="">  name TEXT </span><span class="kw">NOT</span><span class=""> </span><span class="kw">NULL</span><span class="">,</span>
<span class="">  designer TEXT </span><span class="kw">NOT</span><span class=""> </span><span class="kw">NULL</span><span class="">,</span>
<span class="">  </span><span class="dt">year</span><span class=""> </span><span class="dt">INTEGER</span>
<span class="">);</span>
</code></pre></div><p>Otherwise, we don’t have a ton to change. We only have to touch a few things:</p><ul><li>The way that we procure a <code>Connection</code> is slightly different, because we’re no longer using a flat file</li><li><code>lastInsertRowId</code> is not a primitive. Postgres supports <code>RETURNING</code> syntax so we can get the <code>id</code> when we insert.</li><li>The imports have to change.</li></ul><p>That’s actually…it. Here are the imports we need:</p><div class="pandoc-code highlighted"><pre><code class="haskell"><span class="kw">import</span><span class=""> </span><span class="dt">Database.PostgreSQL.Simple</span>
<span class="kw">import</span><span class=""> </span><span class="dt">Database.PostgreSQL.Simple.FromRow</span>
<span class="kw">import</span><span class=""> </span><span class="dt">Database.PostgreSQL.Simple.ToRow</span>
</code></pre></div><p>Here is the new <code>createGame</code>:</p><div class="pandoc-code highlighted"><pre><code class="haskell"><span class="ot">createGame ::</span><span class=""> </span><span class="dt">BoardGame</span><span class=""> </span><span class="ot">-&gt;</span><span class=""> </span><span class="dt">ReaderT</span><span class=""> </span><span class="dt">Connection</span><span class=""> </span><span class="dt">IO</span><span class=""> (</span><span class="dt">Int</span><span class="">, </span><span class="dt">BoardGame</span><span class="">)</span>
<span class="">createGame game </span><span class="ot">=</span><span class=""> ask </span><span class="op">&gt;&gt;=</span><span class=""> \conn </span><span class="ot">-&gt;</span><span class=""> </span><span class="kw">do</span>
<span class="">    [</span><span class="dt">Only</span><span class=""> boardGameId] </span><span class="ot">&lt;-</span><span class=""> liftIO </span><span class="op">$</span><span class=""> query</span>
<span class="">        conn </span>
<span class="">        </span><span class="st">&quot;INSERT INTO board_games (name, designer, year) VALUES (?,?,?) RETURNING id&quot;</span>
<span class="">        game</span>
<span class="">    game&#39; </span><span class="ot">&lt;-</span><span class=""> fromJust </span><span class="op">&lt;$&gt;</span><span class=""> readGame boardGameId</span>
<span class="">    </span><span class="fu">pure</span><span class=""> (boardGameId, game&#39;)</span>
</code></pre></div><p>And here is the new connection procuring mechanism (this uses a <a href="https://www.postgresql.org/docs/9.4/static/libpq-connect.html#LIBPQ-CONNSTRING">postgres connection string</a>, so suit it to your needs):</p><div class="pandoc-code highlighted"><pre><code class="haskell"><span class="co">-- Inside `main`:</span>
<span class="">conn </span><span class="ot">&lt;-</span><span class=""> connectPostgreSQL </span><span class="st">&quot;host=localhost port=5432 connect_timeout=10&quot;</span>
</code></pre></div><p>(packages needed: <code>postgresql-simple</code>, <code>mtl</code>, <code>text</code>)</p><p><a href="https://gist.github.com/5outh/31acec58bbd91413d71a0df2638fe899">Check out the full source here</a>.</p><h3 id="connecting-to-mysql-with-mysql-simple">Connecting to <code>mysql</code> with <code>mysql-simple</code></h3><p>The last database we’ll get this running on is <code>mysql</code>. <code>mysql-simple</code> was the original “-simple” library for database management. However, it’s also the most different.</p><p>First, creating the table:</p><div class="pandoc-code highlighted"><pre><code class="sql"><span class="kw">CREATE</span><span class=""> </span><span class="kw">TABLE</span><span class=""> `board_games` (</span>
<span class="">  `id` </span><span class="dt">int</span><span class="">(</span><span class="dv">11</span><span class="">) unsigned </span><span class="kw">NOT</span><span class=""> </span><span class="kw">NULL</span><span class=""> AUTO_INCREMENT,</span>
<span class="">  `name` </span><span class="dt">varchar</span><span class="">(</span><span class="dv">64</span><span class="">) </span><span class="kw">NOT</span><span class=""> </span><span class="kw">NULL</span><span class=""> </span><span class="kw">DEFAULT</span><span class=""> </span><span class="st">&#39;&#39;</span><span class="">,</span>
<span class="">  `designer` </span><span class="dt">varchar</span><span class="">(</span><span class="dv">64</span><span class="">) </span><span class="kw">NOT</span><span class=""> </span><span class="kw">NULL</span><span class=""> </span><span class="kw">DEFAULT</span><span class=""> </span><span class="st">&#39;&#39;</span><span class="">,</span>
<span class="">  `year` </span><span class="dt">int</span><span class="">(</span><span class="dv">4</span><span class="">) </span><span class="kw">DEFAULT</span><span class=""> </span><span class="kw">NULL</span><span class="">,</span>
<span class="">  </span><span class="kw">PRIMARY</span><span class=""> </span><span class="kw">KEY</span><span class=""> (`id`)</span>
<span class="">) ENGINE</span><span class="op">=</span><span class="">InnoDB </span><span class="kw">DEFAULT</span><span class=""> CHARSET</span><span class="op">=</span><span class="">utf8;</span>
</code></pre></div><p>We’ll need the language extension <code>BangPatterns</code> (not necessary, but recommended):</p><div class="pandoc-code highlighted"><pre><code class="haskell"><span class="ot">{-# LANGUAGE BangPatterns #-}</span>
</code></pre></div><p>and some updated imports:</p><div class="pandoc-code highlighted"><pre><code class="haskell"><span class="kw">import</span><span class=""> </span><span class="dt">Database.MySQL.Simple</span>
<span class="kw">import</span><span class=""> </span><span class="dt">Database.MySQL.Simple.QueryParams</span>
<span class="kw">import</span><span class=""> </span><span class="dt">Database.MySQL.Simple.QueryResults</span>
<span class="kw">import</span><span class=""> </span><span class="dt">Database.MySQL.Simple.Param</span>
<span class="kw">import</span><span class=""> </span><span class="dt">Database.MySQL.Simple.Result</span>
</code></pre></div><p>Our <code>BoardGame</code> type can stay the same, but <code>ToRow</code> and <code>FromRow</code> get replaced with the typeclasses <code>QueryParams</code> and <code>QueryResults</code> respectively. Their interfaces are a little different too:</p><div class="pandoc-code highlighted"><pre><code class="haskell"><span class="kw">instance</span><span class=""> </span><span class="dt">QueryParams</span><span class=""> </span><span class="dt">BoardGame</span><span class=""> </span><span class="kw">where</span>
<span class="">    renderParams </span><span class="dt">BoardGame</span><span class="">{</span><span class="op">..</span><span class="">} </span><span class="ot">=</span><span class=""> [render name, render designer, render year]</span>

<span class="kw">instance</span><span class=""> </span><span class="dt">QueryResults</span><span class=""> </span><span class="dt">BoardGame</span><span class=""> </span><span class="kw">where</span>
<span class="">    convertResults [fa,fb,fc] [va,vb,vc] </span><span class="ot">=</span><span class=""> </span><span class="dt">BoardGame</span><span class=""> a b c </span>
<span class="">        </span><span class="kw">where</span><span class=""> </span><span class="op">!</span><span class="">a </span><span class="ot">=</span><span class=""> convert fa va</span>
<span class="">              </span><span class="op">!</span><span class="">b </span><span class="ot">=</span><span class=""> convert fb vb</span>
<span class="">              </span><span class="op">!</span><span class="">c </span><span class="ot">=</span><span class=""> convert fc vc</span>
<span class="">    convertResults fs vs  </span><span class="ot">=</span><span class=""> convertError fs vs </span><span class="dv">3</span>
</code></pre></div><p>We need to go back to selecting the last insert id, but there’s no primitive for that, so we inline it and make some small modifications to <code>createGame</code>:</p><div class="pandoc-code highlighted"><pre><code class="haskell"><span class="ot">createGame ::</span><span class=""> </span><span class="dt">BoardGame</span><span class=""> </span><span class="ot">-&gt;</span><span class=""> </span><span class="dt">ReaderT</span><span class=""> </span><span class="dt">Connection</span><span class=""> </span><span class="dt">IO</span><span class=""> (</span><span class="dt">Int</span><span class="">, </span><span class="dt">BoardGame</span><span class="">)</span>
<span class="">createGame game </span><span class="ot">=</span><span class=""> ask </span><span class="op">&gt;&gt;=</span><span class=""> \conn </span><span class="ot">-&gt;</span><span class=""> </span><span class="kw">do</span>
<span class="">    liftIO </span><span class="op">$</span><span class=""> execute</span>
<span class="">        conn </span>
<span class="">        </span><span class="st">&quot;INSERT INTO board_games (name, designer, year) VALUES (?,?,?)&quot;</span>
<span class="">        game</span>
<span class="">    [</span><span class="dt">Only</span><span class=""> boardGameId] </span><span class="ot">&lt;-</span><span class=""> liftIO </span><span class="op">$</span><span class=""> query_ conn </span><span class="st">&quot;SELECT LAST_INSERT_ID()&quot;</span>
<span class="">    game&#39; </span><span class="ot">&lt;-</span><span class=""> fromJust </span><span class="op">&lt;$&gt;</span><span class=""> readGame boardGameId </span>
<span class="">    </span><span class="fu">pure</span><span class=""> (boardGameId, game&#39;)</span>
</code></pre></div><p>Connection info is provided using <code>ConnectInfo</code> instead of a postgres connection string:</p><div class="pandoc-code highlighted"><pre><code class="haskell"><span class="ot">connectInfo ::</span><span class=""> </span><span class="dt">ConnectInfo</span>
<span class="">connectInfo </span><span class="ot">=</span><span class=""> defaultConnectInfo</span>
<span class="">    { connectDatabase </span><span class="ot">=</span><span class=""> </span><span class="st">&quot;board_games&quot;</span>
<span class="">    }</span>
</code></pre></div><p>The last step is to swap the connection line in <code>main</code> to:</p><div class="pandoc-code highlighted"><pre><code class="haskell"><span class="co">-- Inside main</span>
<span class="">conn </span><span class="ot">&lt;-</span><span class=""> connect connectInfo </span>
</code></pre></div><p>(packages needed: <code>postgresql-simple</code>, <code>mtl</code>, <code>text</code>)</p><p><a href="https://gist.github.com/5outh/5b53643979fb510ded470f8c0bb449e3">Check out the full source here</a></p><p>These libraries are not all that different - they’re all inspired by one-another. You may find documentation or tutorials that use one of these libraries and need to use another; I hope this helps translate between the languages of the three.</p><p>Next, I’d like to talk about <code>persistent</code>. <code>persistent</code> is a higher-level, more fully featured set of database tooling. It’s a lot more “magical” than the “-simple” libraries, but removes the necessity of some of the boilerplate and inlining of raw SQL that comes with the “-simple” variants. It’s also backend-agnostic which makes for a uniform interface.</p><h3 id="connecting-to-sqlite-with-persistent">Connecting to <code>sqlite</code> with <code>persistent</code></h3><p>We’ll need a data type definition in <code>persistent</code>’s template haskell DSL, which we’ll put in a module called <code>Types</code>:</p><div class="pandoc-code highlighted"><pre><code class="haskell"><span class="ot">{-# LANGUAGE TemplateHaskell #-}</span>
<span class="ot">{-# LANGUAGE QuasiQuotes #-}</span>
<span class="ot">{-# LANGUAGE TypeFamilies #-}</span>
<span class="ot">{-# LANGUAGE MultiParamTypeClasses #-}</span>
<span class="ot">{-# LANGUAGE GADTs #-}</span>
<span class="ot">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span>

<span class="kw">module</span><span class=""> </span><span class="dt">Types</span><span class=""> </span><span class="kw">where</span>

<span class="kw">import</span><span class=""> </span><span class="dt">Database.Persist.TH</span>

<span class="">share [mkPersist sqlSettings, mkMigrate </span><span class="st">&quot;migrateAll&quot;</span><span class="">] [persistLowerCase|</span>
<span class="">BoardGame sql=board_games</span>
<span class="">    name String</span>
<span class="">    designer String</span>
<span class="">    year Int Maybe</span>

<span class="">    UniqueName name</span>

<span class="">    deriving Show</span>
<span class="">|]</span>
</code></pre></div><p>The translated source:</p><div class="pandoc-code highlighted"><pre><code class="haskell"><span class="ot">{-# LANGUAGE OverloadedStrings #-}</span>

<span class="kw">import</span><span class=""> </span><span class="dt">Types</span>

<span class="kw">import</span><span class=""> </span><span class="dt">Database.Persist.Sqlite</span>
<span class="kw">import</span><span class=""> </span><span class="dt">Control.Monad.Logger</span>
<span class="kw">import</span><span class=""> </span><span class="dt">Control.Monad.IO.Class</span>

<span class="ot">printIO ::</span><span class=""> (</span><span class="dt">MonadIO</span><span class=""> m, </span><span class="dt">Show</span><span class=""> a) </span><span class="ot">=&gt;</span><span class=""> a </span><span class="ot">-&gt;</span><span class=""> m ()</span>
<span class="">printIO </span><span class="ot">=</span><span class=""> liftIO </span><span class="op">.</span><span class=""> </span><span class="fu">print</span>

<span class="ot">createGame ::</span><span class=""> </span><span class="dt">MonadIO</span><span class=""> m </span><span class="ot">=&gt;</span><span class=""> </span><span class="dt">BoardGame</span><span class=""> </span><span class="ot">-&gt;</span><span class=""> </span><span class="dt">SqlPersistT</span><span class=""> m (</span><span class="dt">Entity</span><span class=""> </span><span class="dt">BoardGame</span><span class="">) </span>
<span class="">createGame </span><span class="ot">=</span><span class=""> insertEntity</span>

<span class="ot">readGame ::</span><span class=""> </span><span class="dt">MonadIO</span><span class=""> m </span><span class="ot">=&gt;</span><span class=""> </span><span class="dt">Int</span><span class=""> </span><span class="ot">-&gt;</span><span class=""> </span><span class="dt">SqlPersistT</span><span class=""> m (</span><span class="dt">Maybe</span><span class=""> </span><span class="dt">BoardGame</span><span class="">) </span>
<span class="">readGame </span><span class="ot">=</span><span class=""> get </span><span class="op">.</span><span class=""> toSqlKey </span><span class="op">.</span><span class=""> </span><span class="fu">fromIntegral</span>

<span class="ot">main ::</span><span class=""> </span><span class="dt">IO</span><span class=""> ()</span>
<span class="">main </span><span class="ot">=</span><span class=""> </span>
<span class="">    runStdoutLoggingT</span>
<span class="">        </span><span class="op">.</span><span class=""> withSqlitePool </span><span class="st">&quot;board_games.db&quot;</span><span class=""> </span><span class="dv">3</span>
<span class="">        </span><span class="op">.</span><span class=""> runSqlPool</span>
<span class="">        </span><span class="op">$</span><span class=""> </span><span class="kw">do</span>
<span class="">            result </span><span class="ot">&lt;-</span><span class=""> createGame </span><span class="op">$</span><span class=""> </span><span class="dt">BoardGame</span>
<span class="">                </span><span class="st">&quot;Cosmic Encounter&quot;</span>
<span class="">                </span><span class="st">&quot;Bill Eberle&quot;</span>
<span class="">                (</span><span class="dt">Just</span><span class=""> </span><span class="dv">2008</span><span class="">)</span>
<span class="">            liftIO </span><span class="op">$</span><span class=""> </span><span class="fu">print</span><span class=""> result</span>

<span class="">            </span><span class="co">-- This is the easiest way to re-read a record:</span>
<span class="">            get (entityKey result) </span><span class="op">&gt;&gt;=</span><span class=""> printIO </span>

<span class="">            </span><span class="co">-- Getting by id</span>
<span class="">            readGame </span><span class="dv">1</span><span class=""> </span><span class="op">&gt;&gt;=</span><span class=""> printIO </span>
<span class="">            </span>
<span class="">            </span><span class="co">-- Get by name too:</span>
<span class="">            getBy (</span><span class="dt">UniqueName</span><span class=""> </span><span class="st">&quot;Cosmic Encounter&quot;</span><span class="">) </span><span class="op">&gt;&gt;=</span><span class=""> printIO </span>
</code></pre></div><p>(packages needed: <code>persistent</code>, <code>persistent-template</code>, <code>persistent-sqlite</code>, <code>mtl</code>, <code>monad-logger</code>)</p><p>A couple of things:</p><ul><li><code>SqlPersistT</code> can be thought of as a “SQL Statement Context” - you can write arbitrary queries in these blocks. <em>Each of these is run in its own transaction by default, so be careful! Any exceptions will roll back any changes.</em> (thanks to /u/ephrion for bringing up this point!)</li><li><code>BoardGame</code> and <code>UniqueName</code> are types generated by the template haskell in the <code>Types</code> module.</li><li>This uses a connection pool with 3 open connections. You can also create a single connection with <code>withSqliteConn</code> instead of <code>withSqlitePool</code>.</li><li><code>Entity</code> is a type consisting of a <code>Key</code> and a model (in our case, <code>BoardGame</code>) - this is analogous to <code>(Int, BoardGame)</code> with the <code>-simple</code> libraries.</li><li><code>runStdoutLoggingT</code> prints debug SQL statements to stdout. It can be replaced with <code>runNoLoggingT</code> or <code>runStderrLoggingT</code> to modify this behavior.</li></ul><p>This is just the tip of the iceberg. See <a href="http://www.yesodweb.com/book/persistent">the Yesod book’s chapter on persistent</a>, the <a href="https://www.stackage.org/lts-8.0/package/persistent-2.6">persistent documentation</a> and specifically the <a href="https://www.stackage.org/haddock/lts-8.0/persistent-2.6/Database-Persist-Class.html">Database.Persist.Class module</a> for more information.</p><p>Also see the <a href="https://www.stackage.org/package/persistent-sqlite">persistent-sqlite documentation</a>.</p><h3 id="connecting-to-postgres-with-persistent">Connecting to <code>postgres</code> with <code>persistent</code></h3><p>Change the <code>Database.Persist.Sqlite</code> import to <code>Database.Persist.Postgres</code>.</p><p>The only other thing to change in order to connect to <code>postgres</code> instead is the second line of <code>main</code>, to:</p><div class="pandoc-code highlighted"><pre><code class="haskell"><span class="op">.</span><span class=""> withPostgresqlPool </span><span class="st">&quot;host=localhost port=5432 connect_timeout=10&quot;</span><span class=""> </span><span class="dv">3</span>
</code></pre></div><p>(packages needed: <code>persistent</code>, <code>persistent-template</code>, <code>persistent-postgresql</code>, <code>mtl</code>, <code>monad-logger</code>)</p><p>Everything else works the same!</p><p><a href="https://gist.github.com/5outh/d2f6a8762701928ceb967d25710c7ed1">View the full source here</a></p><p>And the <a href="https://www.stackage.org/lts-8.0/package/persistent-postgresql-2.6">persistent-postgresql documentation</a></p><h3 id="connecting-to-mysql-with-persistent">Connecting to <code>mysql</code> with <code>persistent</code></h3><p>Connecting to mysql is almost as simple. Change the import to <code>Database.Persist.MySQL</code>, add the <code>ConnectInfo</code> definition:</p><div class="pandoc-code highlighted"><pre><code class="haskell"><span class="ot">connectInfo ::</span><span class=""> </span><span class="dt">ConnectInfo</span>
<span class="">connectInfo </span><span class="ot">=</span><span class=""> defaultConnectInfo</span>
<span class="">    { connectDatabase </span><span class="ot">=</span><span class=""> </span><span class="st">&quot;board_games&quot;</span>
<span class="">    }</span>
</code></pre></div><p>and change the same line in <code>main</code> to:</p><div class="pandoc-code highlighted"><pre><code class="haskell"><span class="op">.</span><span class=""> withMySQLPool connectInfo </span><span class="dv">3</span>
</code></pre></div><p>(packages needed: <code>persistent</code>, <code>persistent-template</code>, <code>persistent-mysql</code>, <code>mtl</code>, <code>monad-logger</code>)</p><p>Again, everything else works the same.</p><p><a href="https://gist.github.com/5outh/b9d80d7fc174ae5aa87818dfd5158362">View the full source here</a></p><p>And the <a href="https://www.stackage.org/lts-8.0/package/persistent-mysql-2.6">persistent-mysql documentation</a></p><p>I’ve never attempted to run a database-backed haskell application on Windows, so I must apologize for not showing off how to connect to SQL Server. AFAIK, the only current package that supports this is <a href="https://github.com/hdbc/hdbc">HDBC</a>, which I’ve not used.</p><p>What is your preferred way of interacting with databases in Haskell? Which database do you think is the most pleasant to work with? What parts of this post would you like to see expanded on in the future? Let me know in the comments!</p><p>Ben</p></div><div class="metadata"><div class="date" title="Zettel date"><time datetime="2017-02-08">2017-02-08</time></div></div></article><nav class="ui bottom attached segment deemphasized backlinks-container"><h3 class="ui header">Backlinks</h3><ul class="backlinks"><li><span class="zettel-link-container cf"><span class="zettel-link" data-inverted="" data-position="right center" data-tooltip="Tags: home"><a href=".">Ben Kovach</a></span></span><ul class="context-list" style="zoom: 85%;"><li class="item"><div class="pandoc">Linking by tag: <code>Essays</code></div></li></ul></li></ul><a class="ui right ribbon label zettel-tag " href="search.html?tag=Haskell" title="See all zettels tagged &#39;Haskell&#39;">Haskell</a><p></p><a class="ui right ribbon label zettel-tag " href="search.html?tag=Essays" title="See all zettels tagged &#39;Essays&#39;">Essays</a><p></p></nav></div></div><div class="ui one column grid footer-version"><div class="center aligned column"><div class="ui tiny image"><a href="https://neuron.zettel.page"><img alt="logo" src="https://raw.githubusercontent.com/srid/neuron/master/assets/neuron.svg" title="Generated by Neuron" /></a></div></div></div></div></body></html>